

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>dbmanager module &mdash; Faccial Authenticator 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="main module" href="main.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Faccial Authenticator
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="modules.html">Terna_Facial-Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="main.html">main module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">dbmanager module</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Faccial Authenticator</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>dbmanager module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/dbmanager.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-dbmanager">
<span id="dbmanager-module"></span><h1>dbmanager module<a class="headerlink" href="#module-dbmanager" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="dbmanager.add_new_user">
<code class="sig-prename descclassname">dbmanager.</code><code class="sig-name descname">add_new_user</code><span class="sig-paren">(</span><em class="sig-param">username</em>, <em class="sig-param">target_img</em>, <em class="sig-param">password</em><span class="sig-paren">)</span><a class="headerlink" href="#dbmanager.add_new_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a new user in the users table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>username</strong> (<em>string</em>) – the username</p></li>
<li><p><strong>target_img</strong> – the img for the face recognition</p></li>
<li><p><strong>recovery_pass</strong> – the password for the recovery</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>no value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>none</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="dbmanager.check_password">
<code class="sig-prename descclassname">dbmanager.</code><code class="sig-name descname">check_password</code><span class="sig-paren">(</span><em class="sig-param">username</em>, <em class="sig-param">password</em><span class="sig-paren">)</span><a class="headerlink" href="#dbmanager.check_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the password of the user
from the database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>username</strong> (<em>string</em>) – the username</p></li>
<li><p><strong>password</strong> (<em>string</em>) – the username</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>False or True</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="dbmanager.check_user">
<code class="sig-prename descclassname">dbmanager.</code><code class="sig-name descname">check_user</code><span class="sig-paren">(</span><em class="sig-param">username</em><span class="sig-paren">)</span><a class="headerlink" href="#dbmanager.check_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the username of the user
from the database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>username</strong> (<em>string</em>) – the username</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>False or List</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Bool or or List</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="dbmanager.create_users_table">
<code class="sig-prename descclassname">dbmanager.</code><code class="sig-name descname">create_users_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dbmanager.create_users_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the users’ table</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>no value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>none</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="dbmanager.db_face_auth">
<code class="sig-prename descclassname">dbmanager.</code><code class="sig-name descname">db_face_auth</code><span class="sig-paren">(</span><em class="sig-param">username</em>, <em class="sig-param">check_image</em>, <em class="sig-param">password</em><span class="sig-paren">)</span><a class="headerlink" href="#dbmanager.db_face_auth" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the credentials of a user
The user provided his credentials for authentication. If the user exists
in the db, the SHA256(salt+password) is computed. If the digest of the
password provided by the user is the same as the digest computed as above,
the function wiil decript the image on the db and try to match. Otherwise
print “write password”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>username</strong> – the username provided by the user for the authentication</p></li>
<li><p><strong>check_image</strong> – the path provided by the user for the image</p></li>
<li><p><strong>password</strong> – the password provided by the user for the authentication</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Json with of the match if can be authenticated, False otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Json or boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="dbmanager.open_or_create_db">
<code class="sig-prename descclassname">dbmanager.</code><code class="sig-name descname">open_or_create_db</code><span class="sig-paren">(</span><em class="sig-param">db_path</em><span class="sig-paren">)</span><a class="headerlink" href="#dbmanager.open_or_create_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to the database and if not exist call create_users table()</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>no value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>none</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="dbmanager.remove_username">
<code class="sig-prename descclassname">dbmanager.</code><code class="sig-name descname">remove_username</code><span class="sig-paren">(</span><em class="sig-param">username</em><span class="sig-paren">)</span><a class="headerlink" href="#dbmanager.remove_username" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a user from the users table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>username</strong> (<em>string</em>) – the username</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>no value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>none</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="main.html" class="btn btn-neutral float-left" title="main module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Terna

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>